<apex:page sidebar="false" controller="WaveDataManagerController">
	<vs:importvisualstrap theme="paper" />
	<vs:visualstrapblock >	   		   	
	   	<!--All the  Visualstrap content and Visualforce content here -->
	   	<apex:form >
	   		<apex:commandButton value="Run Data Generation" styleClass="btn-primary" action="{!run}"/>
	   		<br /><br />
	   		<vs:panel type="default" title="Results" id="messages">
	   			<vs:alert type="success" rendered="{!successMessage != ''}">
	    			<apex:outputText value="{!successMessage}" />
				</vs:alert>
				<vs:alert type="danger" rendered="{!errorMessage != ''}">
	    			<apex:outputText value="{!errorMessage}" />
				</vs:alert>
				<vs:alert type="warning" rendered="{!warningMessage != ''}">
	    			<apex:outputText value="{!warningMessage}" />
				</vs:alert>
			</vs:panel>
	   	</apex:form>
	</vs:visualstrapblock>
	<apex:form >
		<apex:actionPoller action="{!checkProcessingStatus}" reRender="processingStatus,processingLogConsole,checkFunction,messages" interval="5" enabled="{!objectsNodes.size > 0}" id="checkFunction"/>
		<apex:outputText value="{!jobStatusDsc}" id="processingStatus"/>
		<apex:repeat value="{!processingLog}" var="logEntry" id="processingLogConsole">
			<apex:outputText value="{!logEntry}" /><br />
		</apex:repeat>
	</apex:form>
</apex:page>